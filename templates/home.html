{% extends 'base.html' %}
{% block home_content %}
		

<div class = 'container'>

	<div class='row' style='margin-bottom: 50px; margin-top: 50px;'>
		<div class= 'col-sm-12'>
			<h3 style = 'text-align: center'>What do you want to search for on TomList ?</h3>
			<h6 style = 'text-align: center'>a CraigsList web scraper</h6>
		</div>
	</div>
	
	
	<form id='new_search' action = "{% url 'new_search' %}"  method = 'POST'>   <!--action is the destination url after submit-->
		<div class='form-row'>
			<div class='form-group col-sm-8'>
				<div class='form-row'>
					<div class= 'col-sm-12'>
						<input class="form-control" id = 'textbox' type = 'text' name = 'search' value='{{query}}' placeholder = 'search' required>
					</div>
				</div>
				
				<div class = 'form-row'>
					<div class = 'col-sm-6'>
						<input class="form-control" id='sort_param' type = 'text' name = 'sort_param' value='' style='display:none'>
						<input class="form-control" id='price_min' type = 'text' name = 'price_min' value ='' placeholder = 'min. price (optional)'></div>
					<div class = 'col-sm-6'>
						<input class="form-control" id='price_max' type = 'text' name = 'price_max' value ='' placeholder = 'max. price (optional)'></div>
				</div>		
				
				<button style='background-color:#00163F; color:white' id = 'submit_button' class="btn btn-primary" onclick="SubmitSearch()">Submit
				</button>
			</div>	
			
			<div class='form-group col-sm-4'>	
				<div class="form-check" style='margin-top:10px; margin-bottom:10px; margin-left:20px;'>
					<input id='ascRadio' class="form-check-input" name="group1" type="radio" value='priceasc' onclick="Radio(this.value, this.id)" />
					<label style='color:black' class="form-check-label" for='ascRadio'>
					Price: low to high
					</label>
				</div>
					
				<div class="form-check" style='margin-left:20px; margin-bottom:10px'>	
					<input id='dscRadio' class="form-check-input" name="group1" type="radio" value='pricedsc' onclick='Radio(this.value, this.id)' />
					<label style='color:black' class="form-check-label" for='dscRadio'>
					Price: high to low
					</label>
				</div>
				
				<div class="form-check" style='margin-left:20px; margin-bottom:10px'>
					<input id='relRadio' class="form-check-input" name="group1" type="radio" value= 'rel' onclick='Radio(this.value, this.id)' checked />
					<label style='color:black' class="form-check-label" for='relRadio'>
					Relevance
					</label>
				</div>
				
				<script>
					let radio_id = sessionStorage.getItem('radio_id');
					document.getElementById(radio_id).checked = true;
					document.getElementById('price_min').value = sessionStorage.getItem('price_min');
					document.getElementById('price_max').value = sessionStorage.getItem('price_max');
				</script>
				
			</div>
		</div>
	</form>
	
	<script> 
		sessionStorage.setItem('query', ''); 
		sessionStorage.setItem('price_min', ''); 
		sessionStorage.setItem('price_max', ''); 
		sessionStorage.setItem('radio_id', ''); 
	</script>
	
	
</div>

{% endblock home_content %}